name: provider-railway
runtime: yaml
plugins:
  providers:
    - name: railway
      path: ../../bin

resources:
  myProject:
    type: railway:Project
    properties:
      apiToken: 9fc34a78-1e12-4453-ae87-055803d35715
  myTestEnvironment:
    type: railway:Environment
    properties:
      apiToken: 9fc34a78-1e12-4453-ae87-055803d35715
      projectId: ${myProject.projectId}
  myStagingEnvironment:
    type: railway:Environment
    properties:
      apiToken: 9fc34a78-1e12-4453-ae87-055803d35715
      projectId: ${myProject.projectId}
  myTestService:
    type: railway:Service
    properties:
      projectId: ${myProject.projectId}
      environmentId: ${myTestEnvironment.environmentId}
      apiToken: 9fc34a78-1e12-4453-ae87-055803d35715
      name: My Test Service
  myStagingService:
    type: railway:Service
    properties:
      projectId: ${myProject.projectId}
      environmentId: ${myStagingEnvironment.environmentId}
      apiToken: 9fc34a78-1e12-4453-ae87-055803d35715
      name: My Staging Service

outputs:
  output:
    project: ${myProject}
    testEnvironment: ${myTestEnvironment}
    testService: ${myTestService}
    stagingEnvironment: ${myStagingEnvironment}
    stagingService: ${myStagingService}
